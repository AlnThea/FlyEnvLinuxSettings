<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FlyEnv Linux Settings</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f9f9f9;
      color: #333;
      padding: 2rem;
      line-height: 1.6;
    }
    h1, h2, h3 {
      color: #005f73;
    }
    code {
      background-color: #eee;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
    }
    pre {
      background-color: #eee;
      padding: 1rem;
      border-radius: 6px;
      overflow-x: auto;
    }
    .section {
      margin-bottom: 2rem;
    }
  </style>
</head>
<body>

  <h1>🐧 FlyEnv Linux (Ubuntu) Settings</h1>
  <p>Switching versions using Fish shell for Composer, Apache, PHP, and Node.js</p>

  <div class="section">
    <h2>🎼 Composer Setup</h2>
    <pre><code># Install Composer into FlyEnv
sudo rm /usr/local/bin/composer

# Create symlink to FlyEnv Composer binary
sudo ln -s /home/ernest/.config/FlyEnv/app/composer-2.8.11/composer /usr/local/bin/composer
</code></pre>
  </div>

  <div class="section">
    <h2>🌐 Apache Setup</h2>
    <pre><code># Install Apache via FlyEnv
nano /home/ernest/.config/FlyEnv/server/apache/common/conf/0989a3571b2b9005f7b5dd4ac3689685.conf
</code></pre>

    <h3>🔧 Example Apache Config Snippet</h3>
    <pre><code>#FlyEnv-Apache-Listen-Begin#
Listen 80
Listen 443
User ernest
Group ernest
#FlyEnv-Apache-Listen-End#

Mutex posixsem default
# Main Apache HTTP server configuration
# See: http://httpd.apache.org/docs/2.4/
</code></pre>

    <h3>🔄 Modify User/Group</h3>
    <ul>
      <li>Search for <code>User _www</code> and <code>Group _www</code></li>
      <li>Replace with <code>User www-data</code> and <code>Group www-data</code></li>
      <li>If permission errors appear when starting Apache, you can ignore them for local dev</li>
    </ul>

    <h3>🐟 Fish Shell Config</h3>
    <pre><code># ~/.config/fish/config.fish
umask 027
</code></pre>

    <pre><code># Restart Apache
flyenv apache restart
</code></pre>
  </div>

  <div class="section">
    <h2>🐘 PHP Version Switching (FlyEnv & Homebrew)</h2>
    <h3>🔧 Add default path to Fish config</h3>
    <pre><code># ~/.config/fish/config.fish
set PATH $HOME/.config/FlyEnv/app/static-php-8.3.25/bin $PATH
</code></pre>

    <pre><code># Reload config
source ~/.config/fish/config.fish
# Restart terminal
</code></pre>

    <h3>🐟 Create PHP switch function</h3>
    <pre><code># ~/.config/fish/functions/use-php.fish
function use-php
    set -l source $argv[1]
    set -l phpver $argv[2]

    set PATH /usr/local/bin /usr/bin /bin

    if test "$source" = "flyenv"
        set PATH $HOME/.config/FlyEnv/app/static-php-$phpver/bin $PATH
        echo "✅ Switched to PHP $phpver via FlyEnv"
    else if test "$source" = "brew"
        set PATH /home/linuxbrew/.linuxbrew/Cellar/php@$phpver/$phpver/bin $PATH
        echo "✅ Switched to PHP $phpver via Homebrew"
    else
        echo "❌ Unknown source: $source"
        echo "Usage: use-php flyenv 8.3.25 or use-php brew 7.4.33_9"
    end
end
</code></pre>

    <pre><code># Restart terminal
use-php flyenv 8.3.25
use-php brew 7.4.33_9
</code></pre>
  </div>

  <div class="section">
    <h2>🟢 Node.js Version Switching</h2>
    <h3>🐟 Create Node switch function</h3>
    <pre><code># ~/.config/fish/functions/use-node.fish
function use-node
    set -l nodever $argv[1]
    set PATH $HOME/.config/FlyEnv/app/nodejs/v$nodever/bin /usr/local/bin /usr/bin /bin
    echo "✅ Switched to Node v$nodever via FlyEnv"
end
</code></pre>

    <pre><code># Reload config
source ~/.config/fish/config.fish

# Restart terminal
use-node 24.5.0
</code></pre>
  </div>

</body>
</html>
